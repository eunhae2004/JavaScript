<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í”„ë¡œë¯¸ìŠ¤ í•¨ìˆ˜</title>
  </head>
  <body>
    <script>
      function getBanana() {
        // ì„±ê³µ ì‹œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë¦¬í„´
        // ì„±ê³µí–ˆì„ ê²½ìš°ë§Œ ë§Œë“¤ ìˆ˜ ìžˆë‹¤.
        return new Promise((resolve) => {
          setTimeout(() => {
            resolve("ðŸŒ");
          }, 1000);
        });
      }
      // ì„±ê³µ ì‹œ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ ë¦¬í„´
      function getApple() {
        return new Promise((resolve) => {
          setTimeout(() => {
            resolve("ðŸŽ");
          }, 3000);
        });
      }

      //   new Error: ë¬´ì¡°ê±´ ì—ëŸ¬ë¥¼ ë‚´ ì£¼ëŠ” ê°ì²´
      function getOrange() {
        return Promise.reject(new Error("ì˜¤ë Œì§€ ì—†ìŒ"));
      }

      //   ë°”ë‚˜ë‚˜ë¥¼ í˜¸ì¶œí•˜ê³ , resolve ë˜ë©´ ë°”ë‚˜ë‚˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë™ì‹œì— getAppleì„ í˜¸ì¶œí•œë‹¤.
      //   getAppleì„ í˜¸ì¶œí•´ resolve ë˜ë©´ appleì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ê³  bananaì™€ appleì„ ë°°ì—´ë¡œ ë§Œë“ ë‹¤.
      getBanana()
        .then((banana) => getApple().then((apple) => [banana, apple]))
        .then(console.log);

      //Promise.all: ë³‘ë ¬ì ìœ¼ë¡œ í•œ ë²ˆì— Promiseë“¤ì„ ì‹¤í–‰. í•˜ë‚˜ì˜ í”„ë¡œë¯¸ìŠ¤ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ë¥¼ ì—ëŸ¬ë¡œ ì²˜ë¦¬í•œë‹¤.
      Promise.all([getBanana(), getApple()]).then((fruits) =>
        console.log("all", fruits)
      );
      //ë™ì‹œ ì§„í–‰ì´ë¯€ë¡œ 3ì´ˆ->1ì´ˆ ìˆœìœ¼ë¡œ ì¶œë ¥ëœë‹¤.

      //   Promise.race: ì£¼ì–´ì§„ Promise ì¤‘ ê°€ìž¥ ë¹¨ë¦¬ ìˆ˜í–‰ëœ ê²ƒì´ ì‹¤í–‰
      Promise.race([getBanana(), getApple()]).then((fruits) =>
        console.log("race", fruits)
      );

      //   Promise.allSettled: ì—¬ëŸ¬ Promiseë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë˜ í•˜ë‚˜ì˜ í”„ë¡œë¯¸ìŠ¤ê°€ ì‹¤íŒ¨í•´ë„ ë¬´ì¡°ê±´ ì´í–‰
      Promise.allSettled([getBanana(), getApple(), getOrange()])
        .then((fruits) => console.log("allSettled", fruits))
        .catch(console.log);
    </script>
  </body>
</html>
